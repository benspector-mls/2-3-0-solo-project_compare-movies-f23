(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const t of r)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const t={};return r.integrity&&(t.integrity=r.integrity),r.referrerPolicy&&(t.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?t.credentials="include":r.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(r){if(r.ep)return;r.ep=!0;const t=n(r);fetch(r.href,t)}})();const b=[{criticScore:88,audienceScore:83,domestic:635763484,genre:"comedy",title:"Barbie"},{criticScore:59,audienceScore:95,domestic:574934330,genre:"action",title:"Mario Bros"},{criticScore:96,audienceScore:94,domestic:381311319,genre:"adventure",title:"Spiderverse"},{criticScore:82,audienceScore:94,domestic:358995815,genre:"action",title:"GOTG Vol. 3"},{criticScore:93,audienceScore:91,domestic:324130510,genre:"drama",title:"Oppenheimer"},{criticScore:67,audienceScore:94,domestic:298172056,genre:"adventure",title:"The Little Mermaid"},{criticScore:76,audienceScore:92,domestic:283067859,genre:"action",title:"Avatar 2"},{criticScore:46,audienceScore:82,domestic:214506909,genre:"action",title:"Ant-Man"},{criticScore:94,audienceScore:93,domestic:187131806,genre:"action",title:"John Wick 4"},{criticScore:69,audienceScore:88,domestic:174480468,genre:"adventure",title:"Indiana Jones 5"},{criticScore:96,audienceScore:94,domestic:172135383,genre:"action",title:"Mission Impossible 7"},{criticScore:52,audienceScore:91,domestic:157066392,genre:"action",title:"Transformers Beast"},{criticScore:88,audienceScore:96,domestic:156248615,genre:"drama",title:"Creed 3"},{criticScore:74,audienceScore:93,domestic:154426697,genre:"adventure",title:"Elemental"},{criticScore:56,audienceScore:84,domestic:145960660,genre:"action",title:"Fast X"},{criticScore:99,audienceScore:98,domestic:131997540,genre:"concert",title:"Taylor Swift Eras"},{criticScore:95,audienceScore:94,domestic:124312675,genre:"adventure",title:"Puss In Boots 2"},{criticScore:96,audienceScore:90,domestic:118610556,genre:"adventure",title:"TMNT"},{criticScore:76,audienceScore:91,domestic:108161389,genre:"horror",title:"Scream 6"},{criticScore:93,audienceScore:78,domestic:95043350,genre:"horror",title:"M3gan"},{criticScore:91,audienceScore:93,domestic:93277026,genre:"adventure",title:"D&D"},{criticScore:75,audienceScore:94,domestic:91746064,genre:"action",title:"The Equalizer 3"},{criticScore:52,audienceScore:73,domestic:85588302,genre:"horror",title:"The Nun 2"},{criticScore:28,audienceScore:73,domestic:82600317,genre:"action",title:"Meg 2"},{criticScore:38,audienceScore:70,domestic:82156962,genre:"horror",title:"Insidious"},{criticScore:78,audienceScore:92,domestic:72432543,genre:"action",title:"Blue Beetle"},{criticScore:37,audienceScore:84,domestic:67625828,genre:"comedy",title:"Haunted Mansion"},{criticScore:84,audienceScore:76,domestic:67233054,genre:"horror",title:"Evil Dead Rise"},{criticScore:66,audienceScore:71,domestic:64388510,genre:"comedy",title:"Cocaine Bear"},{criticScore:70,audienceScore:97,domestic:64267657,genre:"comedy",title:"A Man Called Otto"}],f=(e,c)=>{localStorage.setItem(e,JSON.stringify(c))},v=e=>{try{const c=localStorage.getItem(e);return JSON.parse(c)}catch(c){return console.error(c),null}},l=()=>v("movies")||[],M=e=>f("movies",e),O=e=>{const c=l();c.push(e),M(c)},y=()=>f("movies",b),x=()=>{l().length===0&&y()};Chart.defaults.color="#e4e4e4";const u=(e,c,n,i,r)=>{const t=document.createElement("canvas");t.id=e.id,e.parentNode.append(t),e.remove(),new Chart(t,{type:c,data:{labels:n,datasets:i},options:r})},h=e=>e===0?"$0MM":`$${String(e).split("").slice(0,-6).join("")}MM`,E=e=>{const c=document.querySelector("#domestic-bar-chart"),n="bar";e=e.slice().sort((o,s)=>s.domestic-o.domestic);const i=e.map(o=>o.title),r=[{label:"Domestic Gross",data:e.map(o=>o.domestic),borderWidth:1}];u(c,n,i,r,{scales:{y:{ticks:{callback:h},title:{display:!0,text:"Domestic Box Office"}}}})},T=e=>{const c=document.querySelector("#genre-doughnut-chart"),n="doughnut",i=e.map(o=>o.genre).filter((o,s,a)=>a.indexOf(o)===s),r=e.reduce((o,s)=>(o[s.genre]=(o[s.genre]||0)+1,o),{}),t=[{label:"Genre",data:Object.values(r)}];u(c,n,i,t)},C=e=>{const c=document.querySelector("#audience-critic-score-chart"),n="scatter",i=[{label:"Audience Score",data:e.map(t=>({title:t.title,x:t.audienceScore,y:t.domestic}))},{label:"Critic Score",data:e.map(t=>({title:t.title,x:t.criticScore,y:t.domestic}))}];u(c,n,"",i,{scales:{y:{title:{display:!0,text:"Domestic Box Office"},ticks:{callback:h}},x:{title:{display:!0,text:"Rotton Tomatoes Score"},type:"linear",position:"bottom"}},plugins:{tooltip:{callbacks:{label:t=>{console.log(t);const{raw:{title:o,x:s},dataset:{label:a}}=t;return`${o} ${a}: ${s}`}}}}})},L=(e,c)=>{const{title:n,genre:i,domestic:r,audienceScore:t,criticScore:o}=c,s=document.createElement("h3"),a=document.createElement("p"),S=document.createElement("p"),g=document.createElement("p"),p=document.createElement("p");s.innerText=n,a.innerText=`Critic Score: ${o}%`,S.innerText=`Critic Score: ${t}%`,g.innerText=`Genre: ${i}`,p.innerText=`Box Office: $${r.toLocaleString("en-US")}`;const d=document.createElement("li");d.classList.add("movie-card"),d.append(s,a,S,p,g),e.append(d)},m=()=>{const e=document.querySelector("#movies-list");e.innerHTML="";const c=l();c.forEach(n=>L(e,n)),E(c),T(c),C(c)},D=e=>{e.preventDefault();const c=e.target,n=new FormData(c),i=Object.fromEntries(n);Object.values(i).some(r=>!r)||(O({criticScore:Number(i["critic-score"]),audienceScore:Number(i["audience-score"]),domestic:Number(i["domestic-box-office"]),genre:i.genre,title:i["movie-title"]}),m(),c.reset())},B=()=>{y(),m()},N=()=>{x(),m(),document.querySelector("#add-movie-form").addEventListener("submit",D),document.querySelector("#reset").addEventListener("click",B)};N();
